<!--
@license

-->
<style>
  @import url(../../bower_components/bootstrap/dist/css/bootstrap.min.css);
  @import url(../../bower_components/semantic/dist/semantic.min.css);
  
  .dashboard-box {
    padding: 40px 15px;
    text-align: center;
  }
  .chart-box {
    min-width: 200px;
    height: 400px;
  }
</style>

<script src="../../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="../../bower_components/highcharts/highcharts.js"></script>
<script src="../../bower_components/moment/min/moment-with-locales.min.js"></script>
<script>
  (function() {
    const parameters = location.hash.split('?').pop().split('&').map(p => {
      var ps = p.split('=');
      var o = {};
      o[ps.shift()] = ps.join('=');
      return o;
    }).reduce((a, b) => {
      var o = a;
      for(var k in b) {
        o[k] = b[k];
      }
      return o;
    });

    const isMobile = {
      get iOS() {
        return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;
      },
      get Android() {
        return navigator.userAgent.match(/Android/i) ? true : false;
      },
    };
    const beforeSend = (request) => {
      request.setRequestHeader("Authorization", "Basic YTkzYzMyZTktZTc2OS00NzE2LWJiNTYtOTBjM2NjYzQ0NWYw");
    }
    const oneSignalUrl = {
      get debugToken() { return 'aef99f72-9ee3-4dfa-ac5b-ddf79f16be7d'; },
      get releaseToken() { return 'a429ff30-5c0e-4584-a32f-b866ba88c947'; },
      get base() { return 'https://onesignal.com/api'; },
      get players() { return `${this.base}/v1/players`; },
      get notification() { return `${this.base}/v1/notifications`; }
    }
    const modelList = ['iOS', 'Android', 'Amazon', 'WindowsPhone(MPNS)', 'ChromeApp', 'ChromeWebsite', 'WindowsPhone(WNS)', 'Safari', 'Firefox', 'Mac OS X'];
    const scenarioMapping = {
      day1checkin: { icon: 'day1checkin', title: 'Day1 報到', text: 'Checkin!' },
      kit: { icon: 'kit', title: '迎賓袋', text: 'Action!' },
      vipkit: { icon: 'vipkit', title: '獨家紀念品', text: 'Action!', meta: '僅限個人贊助方案' },
      day1lunch: { icon: 'lunch', title: 'Day1 午餐', text: 'Action!' },
      day2checkin: { icon: 'day2checkin', title: 'Day2 報到', text: 'Checkin!' },
      day2lunch: { icon: 'lunch', title: 'Day2 午餐', text: 'Action!' }
    };
    const dietMapping = {
      meat: '葷食',
      vegetarian: '素食'
    };

    window.parameters = parameters;
    window.isMobile = isMobile;
    window.beforeSend = beforeSend;
    window.oneSignalUrl = oneSignalUrl;
    window.modelList = modelList;
    window.scenarioMapping = scenarioMapping;
    window.dietMapping = dietMapping;

    Highcharts.setOptions({
      credits: {
        enabled: false
      }
    });
  })();
</script>

<link rel="import" href="ccip-dashboard.html">
<link rel="import" href="ccip-check-in.html">
<link rel="import" href="ccip-devices-info.html">
<link rel="import" href="ccip-announcement.html">
<link rel="import" href="ccip-push-notification.html">
